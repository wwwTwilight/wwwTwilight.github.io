---
date: '2025-01-15T15:12:36+08:00'
draft: false
title: 'Gitä½¿ç”¨'
categories: ["å­¦ä¹ "]
tags: ["git"]
---

è®°å½•ä¸€äº›gitå¸¸ç”¨çš„æŒ‡ä»¤ï¼Œä¸»è¦æ˜¯é˜²æ­¢å¿˜è®°ï¼Œå†…å®¹å¾ˆä¹±ï¼Œä»…ä¾›å‚è€ƒï¼Œåé¢æœ‰ç©ºå†™ä¸€ä¸ªå®Œæ•´çš„gitä»¥åŠgithubä½¿ç”¨æ•™ç¨‹

# ç”¨æˆ·åé…ç½®
```
git config --global user.name "ç”¨æˆ·å"
git config --global user.email ç”¨æˆ·é‚®ç®±
```
# åŒä¸€ä¸ªoriginä¸‹è®¾ç½®ä¸åŒçš„pushå’Œfetch
```
â†’ study git:(master) git remote add origin git@github.com:git/git

â†’ study git:(master) git remote set-url --add --push origin git@github.com:MY_REPOSITY/git

â†’ study git:(master) git remote -v

origin git@github.com:git/git (fetch)

origin git@github.com:MY_REPOSITY/git (push)
```

# git add
å°†æ–‡ä»¶åŠ å…¥åˆ°æš‚å­˜åŒºä¸­
```
git add .
```

# git commit
å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“
```
git commit -m "æäº¤ä¿¡æ¯"
```

è™½ç„¶ä½†æ˜¯ï¼Œä¸Šé¢ä¸¤ä¸ªæ­¥éª¤åœ¨vscodeé‡Œé¢å¯ä»¥ç›´æ¥æäº¤

# åˆ›å»ºæ–°åˆ†æ”¯

```
git checkout -b åˆ†æ”¯å
```

# tag
åˆ›å»ºtag
```
git tag v1.0
```

é™„æ³¨æ ‡ç­¾
```
git tag -a v1.0 -m "æ ‡ç­¾ä¿¡æ¯"
```

# ä¿®æ”¹å†å²ç‰ˆæœ¬

```
git commit --amend
```

å¯ä»¥ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡çš„commitä¿¡æ¯

# æ¸…ç†æ‚¬ç©ºçš„commit
```
git fsck --lost-found
```

# æ‹‰å–ä¿¡æ¯

- Clone æ‹‰å–å®Œæ•´çš„ä»“åº“åˆ°æœ¬åœ°ç›®å½•ï¼Œå¯ä»¥æŒ‡å®šåˆ†æ”¯ï¼Œæ·±åº¦ã€‚
- Fetch å°†è¿œç«¯æŸäº›åˆ†æ”¯æœ€æ–°ä»£ç æ‹‰å–åˆ°æœ¬åœ°ï¼Œä¸ä¼šæ‰§è¡Œ merge æ“ä½œï¼Œä¼šä¿®æ”¹ refs/remote å†…çš„åˆ†æ”¯ä¿¡æ¯ï¼Œå¦‚æœéœ€è¦å’Œæœ¬åœ°ä»£ç åˆå¹¶éœ€è¦æ‰‹åŠ¨æ“ä½œã€‚
- Pull æ‹‰å–è¿œç«¯æŸåˆ†æ”¯ï¼Œå¹¶å’Œæœ¬åœ°ä»£ç è¿›è¡Œåˆå¹¶ï¼Œæ“ä½œç­‰åŒäº git fetch + git mergeï¼Œä¹Ÿå¯ä»¥é€šè¿‡ git pull --rebase å®Œæˆ git fetch + git rebase æ“ä½œã€‚å¯èƒ½å­˜åœ¨å†²çªï¼Œéœ€è¦è§£å†³å†²çªã€‚

# åˆå¹¶
mergeçš„ä¸¤ç§æ–¹å¼
- Fast-forwardï¼šä¸ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„mergeèŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¿ç•™åŸæ¥çš„å†å²ã€‚
```
git merge åˆ†æ”¯å --ff-only
```
- No-ffï¼šå°†åˆå¹¶çš„å†…å®¹æ”¾åˆ°ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ã€‚
```
git merge åˆ†æ”¯å --no-ff
```

ä¸æƒ³å†™äº†ï¼Œè¿™é‡Œè´´ä¸€ä¸ªç½‘ä¸Šå«é›·å°å¸…çš„å¤§ä½¬å†™çš„gitè¯¦ç»†æ•™ç¨‹å¾—äº†ğŸ˜‡ğŸ˜‡ğŸ˜‡ğŸ˜‡ğŸ˜‡

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é›·å°å¸…ã€‚

æœ€è¿‘ç¾¤é‡Œæœ‰å‡ ä½è€å“¥ç§æˆ‘ï¼Œæœ‰æ²¡æœ‰å¥½çš„ git å…¥é—¨èµ„æ–™ï¼Œæƒ³å­¦ä¸€ä¸‹ã€‚

å¶ç„¶çœ‹åˆ°è¿™ä¸ªå¾ˆæ£’çš„æ•™ç¨‹æ¨èç»™å¤§å®¶ï¼Œå¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ªä¸é”™çš„ git å…¥é—¨ç½‘ç«™ï¼Œä¹Ÿæ¨èç»™å¤§å®¶ï¼Œå¯ä»¥æ­é…ä½¿ç”¨ã€‚

[https://learngitbranching.js.org/?locale=zh_CN](https://learngitbranching.js.org/?locale=zh_CN)

<!-- TOC -->

- [Gitç®€ä»‹](#gitç®€ä»‹)
- [å®ç”¨ä¸»ä¹‰](#å®ç”¨ä¸»ä¹‰)
    - [å‡†å¤‡é˜¶æ®µ](#å‡†å¤‡é˜¶æ®µ)
    - [å¸¸ç”¨æ“ä½œ](#å¸¸ç”¨æ“ä½œ)
        - [git clone](#git-clone)
        - [git config](#git-config)
        - [git branch](#git-branch)
        - [git checkout](#git-checkout)
        - [git status](#git-status)
        - [git add](#git-add)
        - [git commit](#git-commit)
        - [git push](#git-push)
        - [git pull](#git-pull)
        - [git log](#git-log)
        - [git tag](#git-tag)
        - [.gitignore](#gitignore)
        - [å°ç»“](#å°ç»“)
- [æ·±å…¥æ¢ç´¢](#æ·±å…¥æ¢ç´¢)
    - [åŸºæœ¬æ¦‚å¿µ](#åŸºæœ¬æ¦‚å¿µ)
        - [å·¥ä½œåŒºï¼ˆ*Working Directory*ï¼‰](#å·¥ä½œåŒºworking-directory)
        - [æœ¬åœ°ç‰ˆæœ¬åº“ï¼ˆ*Local Repository*ï¼‰](#æœ¬åœ°ç‰ˆæœ¬åº“local-repository)
        - [æš‚å­˜åŒºï¼ˆ*stage*ï¼‰](#æš‚å­˜åŒºstage)
        - [è¿œç¨‹ç‰ˆæœ¬åº“ï¼ˆ*Remote Repository*ï¼‰](#è¿œç¨‹ç‰ˆæœ¬åº“remote-repository)
        - [ä»¥ä¸Šæ¦‚å¿µä¹‹é—´çš„å…³ç³»](#ä»¥ä¸Šæ¦‚å¿µä¹‹é—´çš„å…³ç³»)
        - [åˆ†æ”¯ï¼ˆ*Branch*ï¼‰](#åˆ†æ”¯branch)
        - [ä¸»åˆ†æ”¯ï¼ˆ*Master*ï¼‰](#ä¸»åˆ†æ”¯master)
        - [æ ‡ç­¾ï¼ˆ*Tag*ï¼‰](#æ ‡ç­¾tag)
        - [HEAD](#head)
    - [æ“ä½œæ–‡ä»¶](#æ“ä½œæ–‡ä»¶)
        - [git add](#git-add-1)
        - [git commit](#git-commit-1)
        - [git mv](#git-mv)
        - [git rm](#git-rm)
        - [git status](#git-status-1)
    - [æ“ä½œåˆ†æ”¯](#æ“ä½œåˆ†æ”¯)
        - [git branch](#git-branch-1)
        - [git merge](#git-merge)
        - [git checkout](#git-checkout-1)
        - [git stash](#git-stash)
    - [æ“ä½œå†å²](#æ“ä½œå†å²)
        - [git log](#git-log-1)
        - [git cherry-pick](#git-cherry-pick)
        - [git reset](#git-reset)
        - [git rebase](#git-rebase)
        - [git revert](#git-revert)
        - [git diff](#git-diff)
        - [git reflog](#git-reflog)
    - [è¿œç¨‹ç‰ˆæœ¬åº“è¿æ¥](#è¿œç¨‹ç‰ˆæœ¬åº“è¿æ¥)
        - [git init](#git-init)
        - [git remote](#git-remote)
        - [git fetch](#git-fetch)
    - [é—®é¢˜æ’æŸ¥](#é—®é¢˜æ’æŸ¥)
        - [git blame](#git-blame)
        - [git bisect](#git-bisect)
    - [æ›´å¤šæ“ä½œ](#æ›´å¤šæ“ä½œ)
        - [git submodule](#git-submodule)
        - [git gc](#git-gc)
        - [git archive](#git-archive)

<!-- /TOC -->


# Gitç®€ä»‹

`Git` æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ä¸å—ç½‘ç»œè¿æ¥çš„é™åˆ¶ï¼ŒåŠ ä¸Šå…¶å®ƒä¼—å¤šä¼˜ç‚¹ï¼Œç›®å‰å·²ç»æˆä¸ºç¨‹åºå¼€å‘äººå‘˜åšé¡¹ç›®ç‰ˆæœ¬ç®¡ç†æ—¶çš„é¦–é€‰ï¼Œéå¼€å‘äººå‘˜ä¹Ÿå¯ä»¥ç”¨ `Git` æ¥åšè‡ªå·±çš„æ–‡æ¡£ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚

å¤§æ¦‚æ˜¯å¤§äºŒçš„æ—¶å€™å¼€å§‹æ¥è§¦å’Œä½¿ç”¨Gitï¼Œä»ä¸€å¼€å§‹çš„é›¶æ¥è§¦åˆ°ç°åœ¨çš„é‡åº¦ä¾èµ–ï¼ŒçœŸæ˜¯æ„Ÿå¹ `Git` çš„å¼ºå¤§ã€‚

`Git` çš„apiå¾ˆå¤šï¼Œä½†å…¶å®å¹³æ—¶é¡¹ç›®ä¸­90%çš„éœ€æ±‚éƒ½åªéœ€è¦ç”¨åˆ°å‡ ä¸ªåŸºæœ¬çš„åŠŸèƒ½å³å¯ï¼Œæ‰€ä»¥æœ¬æ–‡å°†ä» `å®ç”¨ä¸»ä¹‰` å’Œ `æ·±å…¥æ¢ç´¢` 2ä¸ªæ–¹é¢å»è°ˆè°ˆå¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ `Git`ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œçœ‹å®Œ `å®ç”¨ä¸»ä¹‰` è¿™ä¸€èŠ‚å°±å¯ä»¥å¼€å§‹åœ¨é¡¹ç›®ä¸­åŠ¨æ‰‹ç”¨ã€‚

> è¯´æ˜ï¼šæœ¬æ–‡çš„æ“ä½œéƒ½æ˜¯åŸºäº Mac ç³»ç»Ÿ
>

# å®ç”¨ä¸»ä¹‰

## å‡†å¤‡é˜¶æ®µ

è¿›å…¥ Gitå®˜ç½‘ ä¸‹è½½åˆé€‚ä½ çš„å®‰è£…åŒ…ï¼Œå®‰è£…å¥½ `Git` åï¼Œæ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œè¿›å…¥å·¥ä½œæ–‡ä»¶å¤¹ï¼ˆ*ä¸ºäº†ä¾¿äºç†è§£æˆ‘ä»¬åœ¨ç³»ç»Ÿæ¡Œé¢ä¸Šæ¼”ç¤º*ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„demoæ–‡ä»¶å¤¹ã€‚

![img](https://cdn.jsdelivr.net/gh/CoderLeixiaoshuai/assets/202105/20210527225650.png)

è¿›å…¥ Githubç½‘ç«™ æ³¨å†Œä¸€ä¸ªè´¦å·å¹¶ç™»å½•ï¼Œè¿›å…¥ æˆ‘çš„åšå®¢ï¼Œç‚¹å‡» `Clone or download`ï¼Œå†ç‚¹å‡» `Use HTTPS` ï¼Œå¤åˆ¶é¡¹ç›®åœ°å€ `https://github.com/gafish/gafish.github.com.git` å¤‡ç”¨ã€‚

å†å›åˆ°å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸€åˆ‡å°±ç»ªï¼Œæ¥ä¸‹æ¥è¿›å…¥æœ¬æ–‡çš„é‡ç‚¹ã€‚

## å¸¸ç”¨æ“ä½œ

æ‰€è°“å®ç”¨ä¸»ä¹‰ï¼Œå°±æ˜¯æŒæ¡äº†ä»¥ä¸‹çŸ¥è¯†å°±å¯ä»¥ç©è½¬ `Git`ï¼Œè½»æ¾åº”å¯¹90%ä»¥ä¸Šçš„éœ€æ±‚ã€‚ä»¥ä¸‹æ˜¯å®ç”¨ä¸»ä¹‰å‹çš„Gitå‘½ä»¤åˆ—è¡¨ï¼Œå…ˆå¤§è‡´çœ‹ä¸€ä¸‹

- `git clone`
- `git config`
- `git branch`
- `git checkout`
- `git status`
- `git add`
- `git commit`
- `git push`
- `git pull`
- `git log`
- `git tag`

æ¥ä¸‹æ¥ï¼Œå°†é€šè¿‡å¯¹ æˆ‘çš„åšå®¢ ä»“åº“è¿›è¡Œå®ä¾‹æ“ä½œï¼Œè®²è§£å¦‚ä½•ä½¿ç”¨ `Git` æ‹‰å–ä»£ç åˆ°æäº¤ä»£ç çš„æ•´ä¸ªæµç¨‹ã€‚

### git clone

> ä»gitæœåŠ¡å™¨æ‹‰å–ä»£ç 
>

```
git clone https://github.com/gafish/gafish.github.com.git
```

ä»£ç ä¸‹è½½å®Œæˆååœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­ä¼šæœ‰ä¸€ä¸ª `gafish.github.com` çš„ç›®å½•ï¼Œé€šè¿‡ `cd gafish.github.com` å‘½ä»¤è¿›å…¥ç›®å½•ã€‚

### git config

> é…ç½®å¼€å‘è€…ç”¨æˆ·åå’Œé‚®ç®±
>

```
git config user.name gafish
git config user.email gafish@qqqq.com
```

æ¯æ¬¡ä»£ç æäº¤çš„æ—¶å€™éƒ½ä¼šç”Ÿæˆä¸€æ¡æäº¤è®°å½•ï¼Œå…¶ä¸­ä¼šåŒ…å«å½“å‰é…ç½®çš„ç”¨æˆ·åå’Œé‚®ç®±ã€‚

### git branch

> åˆ›å»ºã€é‡å‘½åã€æŸ¥çœ‹ã€åˆ é™¤é¡¹ç›®åˆ†æ”¯ï¼Œé€šè¿‡ `Git` åšé¡¹ç›®å¼€å‘æ—¶ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨å¼€å‘åˆ†æ”¯ä¸­è¿›è¡Œï¼Œå¼€å‘å®Œæˆååˆå¹¶åˆ†æ”¯åˆ°ä¸»å¹²ã€‚
>

```
git branch daily/0.0.0
```

åˆ›å»ºä¸€ä¸ªåä¸º `daily/0.0.0` çš„æ—¥å¸¸å¼€å‘åˆ†æ”¯ï¼Œåˆ†æ”¯ååªè¦ä¸åŒ…æ‹¬ç‰¹æ®Šå­—ç¬¦å³å¯ã€‚

```
git branch -m daily/0.0.0 daily/0.0.1
```

å¦‚æœè§‰å¾—ä¹‹å‰çš„åˆ†æ”¯åä¸åˆé€‚ï¼Œå¯ä»¥ä¸ºæ–°å»ºçš„åˆ†æ”¯é‡å‘½åï¼Œé‡å‘½ååˆ†æ”¯åä¸º `daily/0.0.1`

```
git branch
```

é€šè¿‡ä¸å¸¦å‚æ•°çš„branchå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰é¡¹ç›®åˆ†æ”¯åˆ—è¡¨

```
git branch -d daily/0.0.1
```

å¦‚æœåˆ†æ”¯å·²ç»å®Œæˆä½¿å‘½åˆ™å¯ä»¥é€šè¿‡ `-d` å‚æ•°å°†åˆ†æ”¯åˆ é™¤ï¼Œè¿™é‡Œä¸ºäº†ç»§ç»­ä¸‹ä¸€æ­¥æ“ä½œï¼Œæš‚ä¸æ‰§è¡Œåˆ é™¤æ“ä½œ

### git checkout

> åˆ‡æ¢åˆ†æ”¯
>

```
git checkout daily/0.0.1
```

åˆ‡æ¢åˆ° `daily/0.0.1` åˆ†æ”¯ï¼Œåç»­çš„æ“ä½œå°†åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šè¿›è¡Œ

### git status

> æŸ¥çœ‹æ–‡ä»¶å˜åŠ¨çŠ¶æ€
>

é€šè¿‡ä»»ä½•ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨å¯¹é¡¹ç›®ä¸­çš„ `README.md` æ–‡ä»¶åšä¸€äº›æ”¹åŠ¨ï¼Œä¿å­˜ã€‚

```
git status
```

é€šè¿‡ `git status` å‘½ä»¤å¯ä»¥çœ‹åˆ°æ–‡ä»¶å½“å‰çŠ¶æ€ `Changes not staged for commit:`ï¼ˆ*æ”¹åŠ¨æ–‡ä»¶æœªæäº¤åˆ°æš‚å­˜åŒº*ï¼‰

```
On branch daily/0.0.1
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)
    modified:   README.md
no changes added to commit (use "git add" and/or "git commit -a")
```

### git add

> æ·»åŠ æ–‡ä»¶å˜åŠ¨åˆ°æš‚å­˜åŒº
>

```
git add README.md
```

é€šè¿‡æŒ‡å®šæ–‡ä»¶å `README.md` å¯ä»¥å°†è¯¥æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå¦‚æœæƒ³æ·»åŠ æ‰€æœ‰æ–‡ä»¶å¯ç”¨ `git add .` å‘½ä»¤ï¼Œè¿™æ—¶å€™å¯é€šè¿‡ `git status` çœ‹åˆ°æ–‡ä»¶å½“å‰çŠ¶æ€ `Changes to be committed:` ï¼ˆ*æ–‡ä»¶å·²æäº¤åˆ°æš‚å­˜åŒº*ï¼‰

```
On branch daily/0.0.1
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)
    modified:   README.md
```

### git commit

> æäº¤æ–‡ä»¶å˜åŠ¨åˆ°ç‰ˆæœ¬åº“
>

```
git commit -m 'è¿™é‡Œå†™æäº¤åŸå› '
```

é€šè¿‡ `-m` å‚æ•°å¯ç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥æäº¤æè¿°æ–‡æœ¬

### git push

> å°†æœ¬åœ°çš„ä»£ç æ”¹åŠ¨æ¨é€åˆ°æœåŠ¡å™¨
>

```
git push origin daily/0.0.1
```

`origin` æŒ‡ä»£çš„æ˜¯å½“å‰çš„gitæœåŠ¡å™¨åœ°å€ï¼Œè¿™è¡Œå‘½ä»¤çš„æ„æ€æ˜¯æŠŠ `daily/0.0.1` åˆ†æ”¯æ¨é€åˆ°æœåŠ¡å™¨ï¼Œå½“çœ‹åˆ°å‘½ä»¤è¡Œè¿”å›å¦‚ä¸‹å­—ç¬¦è¡¨ç¤ºæ¨é€æˆåŠŸäº†ã€‚

```
Counting objects: 3, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 267 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local objects.
To https://github.com/gafish/gafish.github.com.git
 * [new branch]      daily/0.0.1 -> daily/0.0.1
```

ç°åœ¨æˆ‘ä»¬å›åˆ°Githubç½‘ç«™çš„é¡¹ç›®é¦–é¡µï¼Œç‚¹å‡» `Branch:master` ä¸‹æ‹‰æŒ‰é’®ï¼Œå°±ä¼šçœ‹åˆ°åˆšæ‰æ¨é€çš„ `daily/00.1` åˆ†æ”¯äº†

### git pull

> å°†æœåŠ¡å™¨ä¸Šçš„æœ€æ–°ä»£ç æ‹‰å–åˆ°æœ¬åœ°
>

```
git pull origin daily/0.0.1
```

å¦‚æœå…¶å®ƒé¡¹ç›®æˆå‘˜å¯¹é¡¹ç›®åšäº†æ”¹åŠ¨å¹¶æ¨é€åˆ°æœåŠ¡å™¨ï¼Œæˆ‘ä»¬éœ€è¦å°†æœ€æ–°çš„æ”¹åŠ¨æ›´æ–°åˆ°æœ¬åœ°ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€ä¸‹è¿™ç§æƒ…å†µã€‚

è¿›å…¥Githubç½‘ç«™çš„é¡¹ç›®é¦–é¡µï¼Œå†è¿›å…¥ `daily/0.0.1` åˆ†æ”¯ï¼Œåœ¨çº¿å¯¹ `README.md` æ–‡ä»¶åšä¸€äº›ä¿®æ”¹å¹¶ä¿å­˜ï¼Œç„¶ååœ¨å‘½ä»¤ä¸­æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ï¼Œå®ƒå°†æŠŠåˆšæ‰åœ¨çº¿ä¿®æ”¹çš„éƒ¨åˆ†æ‹‰å–åˆ°æœ¬åœ°ï¼Œç”¨ç¼–è¾‘å™¨æ‰“å¼€ `README.md` ï¼Œä½ ä¼šå‘ç°æ–‡ä»¶å·²ç»è·Ÿçº¿ä¸Šçš„å†…å®¹åŒæ­¥äº†ã€‚

*å¦‚æœçº¿ä¸Šä»£ç åšäº†å˜åŠ¨ï¼Œè€Œä½ æœ¬åœ°çš„ä»£ç ä¹Ÿæœ‰å˜åŠ¨ï¼Œæ‹‰å–çš„ä»£ç å°±æœ‰å¯èƒ½ä¼šè·Ÿä½ æœ¬åœ°çš„æ”¹åŠ¨å†²çªï¼Œä¸€èˆ¬æƒ…å†µä¸‹ `Git` ä¼šè‡ªåŠ¨å¤„ç†è¿™ç§å†²çªåˆå¹¶ï¼Œä½†å¦‚æœæ”¹åŠ¨çš„æ˜¯åŒä¸€è¡Œï¼Œé‚£å°±éœ€è¦æ‰‹åŠ¨æ¥åˆå¹¶ä»£ç ï¼Œç¼–è¾‘æ–‡ä»¶ï¼Œä¿å­˜æœ€æ–°çš„æ”¹åŠ¨ï¼Œå†é€šè¿‡ `git add .`å’Œ `git commit -m 'xxx'` æ¥æäº¤åˆå¹¶ã€‚*

### git log

> æŸ¥çœ‹ç‰ˆæœ¬æäº¤è®°å½•
>

```
git log
```

é€šè¿‡ä»¥ä¸Šå‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æ•´ä¸ªé¡¹ç›®çš„ç‰ˆæœ¬æäº¤è®°å½•ï¼Œå®ƒé‡Œé¢åŒ…å«äº†`æäº¤äºº`ã€`æ—¥æœŸ`ã€`æäº¤åŸå› `ç­‰ä¿¡æ¯ï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š

```
commit c334730f8dba5096c54c8ac04fdc2b31ede7107a
Author: gafish <gafish@qqqq.com>
Date:   Wed Jan 11 09:44:13 2017 +0800
    Update README.md
commit ba6e3d21fcb1c87a718d2a73cdd11261eb672b2a
Author: gafish <gafish@qqqq.com>
Date:   Wed Jan 11 09:31:33 2017 +0800
    test
.....
```

æäº¤è®°å½•å¯èƒ½ä¼šéå¸¸å¤šï¼ŒæŒ‰ `J` é”®å¾€ä¸‹ç¿»ï¼ŒæŒ‰ `K` é”®å¾€ä¸Šç¿»ï¼ŒæŒ‰ `Q` é”®é€€å‡ºæŸ¥çœ‹

### git tag

> ä¸ºé¡¹ç›®æ ‡è®°é‡Œç¨‹ç¢‘
>

```
git tag publish/0.0.1
git push origin publish/0.0.1
```

å½“æˆ‘ä»¬å®ŒæˆæŸä¸ªåŠŸèƒ½éœ€æ±‚å‡†å¤‡å‘å¸ƒä¸Šçº¿æ—¶ï¼Œåº”è¯¥å°†æ­¤æ¬¡å®Œæ•´çš„é¡¹ç›®ä»£ç åšä¸ªæ ‡è®°ï¼Œå¹¶å°†è¿™ä¸ªæ ‡è®°å¥½çš„ç‰ˆæœ¬å‘å¸ƒåˆ°çº¿ä¸Šï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥ `publish/0.0.1` ä¸ºæ ‡è®°åå¹¶å‘å¸ƒï¼Œå½“çœ‹åˆ°å‘½ä»¤è¡Œè¿”å›å¦‚ä¸‹å†…å®¹åˆ™è¡¨ç¤ºå‘å¸ƒæˆåŠŸäº†

```
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/gafish/gafish.github.com.git
 * [new tag]         publish/0.0.1 -> publish/0.0.1
```

### .gitignore

> è®¾ç½®å“ªäº›å†…å®¹ä¸éœ€è¦æ¨é€åˆ°æœåŠ¡å™¨ï¼Œè¿™æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶
>

```
touch .gitignore
```

`.gitignore` ä¸æ˜¯ `Git` å‘½ä»¤ï¼Œè€Œåœ¨é¡¹ç›®ä¸­çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œé€šè¿‡è®¾ç½® `.gitignore` çš„å†…å®¹å‘Šè¯‰ `Git` å“ªäº›æ–‡ä»¶åº”è¯¥è¢«å¿½ç•¥ä¸éœ€è¦æ¨é€åˆ°æœåŠ¡å™¨ï¼Œé€šè¿‡ä»¥ä¸Šå‘½ä»¤å¯ä»¥åˆ›å»ºä¸€ä¸ª `.gitignore` æ–‡ä»¶ï¼Œå¹¶åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªè¦å¿½ç•¥çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¦‚ï¼š

```
demo.html
build/
```

ä»¥ä¸Šå†…å®¹çš„æ„æ€æ˜¯ `Git` å°†å¿½ç•¥ `demo.html` æ–‡ä»¶ å’Œ `build/` ç›®å½•ï¼Œè¿™äº›å†…å®¹ä¸ä¼šè¢«æ¨é€åˆ°æœåŠ¡å™¨ä¸Š

### å°ç»“

é€šè¿‡æŒæ¡ä»¥ä¸Šè¿™äº›åŸºæœ¬å‘½ä»¤å°±å¯ä»¥åœ¨é¡¹ç›®ä¸­å¼€å§‹ç”¨èµ·æ¥äº†ï¼Œå¦‚æœè¿½æ±‚å®ç”¨ï¼Œé‚£å…³äº `Git` çš„å­¦ä¹ å°±å¯ä»¥åˆ°æ­¤ç»“æŸäº†ï¼Œå¶å°”é‡åˆ°çš„é—®é¢˜ä¹ŸåŸºæœ¬ä¸Šé€šè¿‡ `Google` ä¹Ÿèƒ½æ‰¾åˆ°ç­”æ¡ˆï¼Œå¦‚æœæƒ³æ·±å…¥æ¢ç´¢ `Git` çš„é«˜é˜¶åŠŸèƒ½ï¼Œé‚£å°±ç»§ç»­å¾€ä¸‹çœ‹ `æ·±å…¥æ¢ç´¢` éƒ¨åˆ†ã€‚

# æ·±å…¥æ¢ç´¢

## åŸºæœ¬æ¦‚å¿µ

### å·¥ä½œåŒºï¼ˆ*Working Directory*ï¼‰

å°±æ˜¯ä½ åœ¨ç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•ï¼Œæ¯”å¦‚ä¸Šæ–‡ä¸­çš„ `gafish.github.com` æ–‡ä»¶å¤¹å°±æ˜¯ä¸€ä¸ªå·¥ä½œåŒº![img](https://cdn.jsdelivr.net/gh/CoderLeixiaoshuai/assets/202105/20210527225751.jpeg)

### æœ¬åœ°ç‰ˆæœ¬åº“ï¼ˆ*Local Repository*ï¼‰

å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½• `.git`ï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯ `Git` çš„ç‰ˆæœ¬åº“ã€‚

![img](https://cdn.jsdelivr.net/gh/CoderLeixiaoshuai/assets/202105/20210527225805.jpeg)

### æš‚å­˜åŒºï¼ˆ*stage*ï¼‰

æœ¬åœ°ç‰ˆæœ¬åº“é‡Œå­˜äº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ç§°ä¸º `stage`ï¼ˆæˆ–è€…å«indexï¼‰çš„æš‚å­˜åŒºï¼Œè¿˜æœ‰ `Git` ä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ `master`ï¼Œä»¥åŠæŒ‡å‘ `master` çš„ä¸€ä¸ªæŒ‡é’ˆå« `HEAD`ã€‚

### è¿œç¨‹ç‰ˆæœ¬åº“ï¼ˆ*Remote Repository*ï¼‰

ä¸€èˆ¬æŒ‡çš„æ˜¯ `Git` æœåŠ¡å™¨ä¸Šæ‰€å¯¹åº”çš„ä»“åº“ï¼Œæœ¬æ–‡çš„ç¤ºä¾‹æ‰€åœ¨çš„`github`ä»“åº“å°±æ˜¯ä¸€ä¸ªè¿œç¨‹ç‰ˆæœ¬åº“![img](https://cdn.jsdelivr.net/gh/CoderLeixiaoshuai/assets/202105/20210527225823.jpeg)

### ä»¥ä¸Šæ¦‚å¿µä¹‹é—´çš„å…³ç³»

`å·¥ä½œåŒº`ã€`æš‚å­˜åŒº`ã€`æœ¬åœ°ç‰ˆæœ¬åº“`ã€`è¿œç¨‹ç‰ˆæœ¬åº“`ä¹‹é—´å‡ ä¸ªå¸¸ç”¨çš„ `Git` æ“ä½œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![img](https://cdn.jsdelivr.net/gh/CoderLeixiaoshuai/assets/202105/20210527225831.jpeg)

### åˆ†æ”¯ï¼ˆ*Branch*ï¼‰

åˆ†æ”¯æ˜¯ä¸ºäº†å°†ä¿®æ”¹è®°å½•çš„æ•´ä¸ªæµç¨‹åˆ†å¼€å­˜å‚¨ï¼Œè®©åˆ†å¼€çš„åˆ†æ”¯ä¸å—å…¶å®ƒåˆ†æ”¯çš„å½±å“ï¼Œæ‰€ä»¥åœ¨åŒä¸€ä¸ªæ•°æ®åº“é‡Œå¯ä»¥åŒæ—¶è¿›è¡Œå¤šä¸ªä¸åŒçš„ä¿®æ”¹

![img](https://cdn.jsdelivr.net/gh/CoderLeixiaoshuai/assets/202105/20210527225839.png)

### ä¸»åˆ†æ”¯ï¼ˆ*Master*ï¼‰

å‰é¢æåˆ°è¿‡ `master` æ˜¯ `Git` ä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ï¼Œä¹Ÿå«ä¸»åˆ†æ”¯ï¼Œå…¶å®ƒåˆ†æ”¯å¼€å‘å®Œæˆåéƒ½è¦åˆå¹¶åˆ° `master`

![img](https://cdn.jsdelivr.net/gh/CoderLeixiaoshuai/assets/202105/20210527225845.png)



### æ ‡ç­¾ï¼ˆ*Tag*ï¼‰

æ ‡ç­¾æ˜¯ç”¨äºæ ‡è®°ç‰¹å®šçš„ç‚¹æˆ–æäº¤çš„å†å²ï¼Œé€šå¸¸ä¼šç”¨æ¥æ ‡è®°å‘å¸ƒç‰ˆæœ¬çš„åç§°æˆ–ç‰ˆæœ¬å·ï¼ˆå¦‚ï¼š`publish/0.0.1`ï¼‰ï¼Œè™½ç„¶æ ‡ç­¾çœ‹èµ·æ¥æœ‰ç‚¹åƒåˆ†æ”¯ï¼Œä½†æ‰“ä¸Šæ ‡ç­¾çš„æäº¤æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½éšæ„çš„æ”¹åŠ¨ï¼Œå‚è§ä¸Šå›¾ä¸­çš„`1.0` / `2.0` / `3.0`

### HEAD

`HEAD` æŒ‡å‘çš„å°±æ˜¯å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤

![img](https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowxN49635dB9zuiaElVicSmgcnnhZicTElUqKkKg31eMsGQSnjHhc2eH5pw/640?wx_fmt=png)

> ä»¥ä¸Šæ¦‚å¿µäº†è§£çš„å·®ä¸å¤šï¼Œé‚£å°±å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹ï¼Œä¸‹é¢å°†ä»¥å…·ä½“çš„æ“ä½œç±»å‹æ¥è®²è§£ `Git` çš„é«˜é˜¶ç”¨æ³•
>

## æ“ä½œæ–‡ä»¶

### git add

> æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
>

```
git add -i
```

é€šè¿‡æ­¤å‘½ä»¤å°†æ‰“å¼€äº¤äº’å¼å­å‘½ä»¤ç³»ç»Ÿï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹å­å‘½ä»¤

```
***Commands***
  1: status      2: update      3: revert      4: add untracked
  5: patch      6: diff      7: quit      8: help
```

é€šè¿‡è¾“å…¥åºåˆ—å·æˆ–é¦–å­—æ¯å¯ä»¥é€‰æ‹©ç›¸åº”çš„åŠŸèƒ½ï¼Œå…·ä½“çš„åŠŸèƒ½è§£é‡Šå¦‚ä¸‹ï¼š

- `status`ï¼šåŠŸèƒ½ä¸Šå’Œ `git add -i` ç›¸ä¼¼ï¼Œæ²¡ä»€ä¹ˆé¸Ÿç”¨
- `update`ï¼šè¯¦è§ä¸‹æ–¹ `git add -u`
- `revert`ï¼šæŠŠå·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶ä»æš‚å­˜åŒºå‰”é™¤ï¼Œå…¶æ“ä½œæ–¹å¼å’Œ `update`ç±»ä¼¼
- `add untracked`ï¼šå¯ä»¥æŠŠæ–°å¢çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå…¶æ“ä½œæ–¹å¼å’Œ `update` ç±»ä¼¼
- `patch`ï¼šè¯¦è§ä¸‹æ–¹ `git add -p`
- `diff`ï¼šæ¯”è¾ƒæš‚å­˜åŒºæ–‡ä»¶å’Œæœ¬åœ°ç‰ˆæœ¬åº“çš„å·®å¼‚ï¼Œå…¶æ“ä½œæ–¹å¼å’Œ `update` ç±»ä¼¼
- `quit`ï¼šé€€å‡º `git add -i` å‘½ä»¤ç³»ç»Ÿ
- `help`ï¼šæŸ¥çœ‹å¸®åŠ©ä¿¡æ¯

```
git add -p
```

ç›´æ¥è¿›å…¥äº¤äº’å‘½ä»¤ä¸­æœ€æœ‰ç”¨çš„ `patch` æ¨¡å¼

è¿™æ˜¯äº¤äº’å‘½ä»¤ä¸­æœ€æœ‰ç”¨çš„æ¨¡å¼ï¼Œå…¶æ“ä½œæ–¹å¼å’Œ `update` ç±»ä¼¼ï¼Œé€‰æ‹©å `Git` ä¼šæ˜¾ç¤ºè¿™äº›æ–‡ä»¶çš„å½“å‰å†…å®¹ä¸æœ¬åœ°ç‰ˆæœ¬åº“ä¸­çš„å·®å¼‚ï¼Œç„¶åæ‚¨å¯ä»¥è‡ªå·±å†³å®šæ˜¯å¦æ·»åŠ è¿™äº›ä¿®æ”¹åˆ°æš‚å­˜åŒºï¼Œåœ¨å‘½ä»¤è¡Œ `Stage deletion [y,n,q,a,d,/,?]?` åè¾“å…¥ `y,n,q,a,d,/,?` å…¶ä¸­ä¸€é¡¹é€‰æ‹©æ“ä½œæ–¹å¼ï¼Œå…·ä½“åŠŸèƒ½è§£é‡Šå¦‚ä¸‹ï¼š

- yï¼šæ¥å—ä¿®æ”¹
- nï¼šå¿½ç•¥ä¿®æ”¹
- qï¼šé€€å‡ºå½“å‰å‘½ä»¤
- aï¼šæ·»åŠ ä¿®æ”¹
- dï¼šæ”¾å¼ƒä¿®æ”¹
- /ï¼šé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¿®æ”¹å†…å®¹
- ?ï¼šæŸ¥çœ‹å¸®åŠ©ä¿¡æ¯

```
git add -u
```

ç›´æ¥è¿›å…¥äº¤äº’å‘½ä»¤ä¸­çš„ `update` æ¨¡å¼

å®ƒä¼šå…ˆåˆ—å‡ºå·¥ä½œåŒº `ä¿®æ”¹` æˆ– `åˆ é™¤` çš„æ–‡ä»¶åˆ—è¡¨ï¼Œ`æ–°å¢` çš„æ–‡ä»¶ä¸ä¼šè¢«æ˜¾ç¤ºï¼Œåœ¨å‘½ä»¤è¡Œ `Update>>` åè¾“å…¥ç›¸åº”çš„åˆ—è¡¨åºåˆ—å·è¡¨ç¤ºé€‰ä¸­è¯¥é¡¹ï¼Œå›è½¦ç»§ç»­é€‰æ‹©ï¼Œå¦‚æœå·²é€‰å¥½ï¼Œç›´æ¥å›è½¦å›åˆ°å‘½ä»¤ä¸»ç•Œé¢

```
git add --ignore-removal .
```

æ·»åŠ å·¥ä½œåŒº `ä¿®æ”¹` æˆ– `æ–°å¢` çš„æ–‡ä»¶åˆ—è¡¨ï¼Œ `åˆ é™¤` çš„æ–‡ä»¶ä¸ä¼šè¢«æ·»åŠ 

### git commit

> æŠŠæš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“
>

```
git commit -m 'ç¬¬ä¸€è¡Œæäº¤åŸå› '  -m 'ç¬¬äºŒè¡Œæäº¤åŸå› '
```

ä¸æ‰“å¼€ç¼–è¾‘å™¨ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å¤šè¡Œæäº¤åŸå› 

```
git commit -am 'æäº¤åŸå› '
```

å°†å·¥ä½œåŒº `ä¿®æ”¹` æˆ– `åˆ é™¤` çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“ï¼Œ `æ–°å¢` çš„æ–‡ä»¶ä¸ä¼šè¢«æäº¤

```
git commit --amend -m 'æäº¤åŸå› '
```

ä¿®æ”¹æœ€æ–°ä¸€æ¡æäº¤è®°å½•çš„æäº¤åŸå› 

```
git commit -C HEAD
```

å°†å½“å‰æ–‡ä»¶æ”¹åŠ¨æäº¤åˆ° `HEAD` æˆ–å½“å‰åˆ†æ”¯çš„å†å²ID

### git mv

> ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ã€ç›®å½•
>

```
git mv a.md b.md -f
```

å°† `a.md` é‡å‘½åä¸º `b.md` ï¼ŒåŒæ—¶æ·»åŠ å˜åŠ¨åˆ°æš‚å­˜åŒºï¼ŒåŠ  `-f` å‚æ•°å¯ä»¥å¼ºåˆ¶é‡å‘½åï¼Œç›¸æ¯”ç”¨ `mv a.md b.md` å‘½ä»¤çœå»äº† `git add` æ“ä½œ

### git rm

> ä»å·¥ä½œåŒºå’Œæš‚å­˜åŒºç§»é™¤æ–‡ä»¶
>

```
git rm b.md
```

ä»å·¥ä½œåŒºå’Œæš‚å­˜åŒºç§»é™¤æ–‡ä»¶ `b.md` ï¼ŒåŒæ—¶æ·»åŠ å˜åŠ¨åˆ°æš‚å­˜åŒºï¼Œç›¸æ¯”ç”¨ `rm b.md` å‘½ä»¤çœå»äº† `git add` æ“ä½œ

```
git rm src/ -r
```

å…è®¸ä»å·¥ä½œåŒºå’Œæš‚å­˜åŒºç§»é™¤ç›®å½•

### git status

```
git status -s
```

ä»¥ç®€çŸ­æ–¹å¼æŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ–‡ä»¶çŠ¶æ€ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```
 M demo.html
?? test.html
git status --ignored
```

æŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ–‡ä»¶çŠ¶æ€ï¼ŒåŒ…æ‹¬è¢«å¿½ç•¥çš„æ–‡ä»¶

## æ“ä½œåˆ†æ”¯

### git branch

> æŸ¥çœ‹ã€åˆ›å»ºã€åˆ é™¤åˆ†æ”¯
>

```
git branch -a
```

æŸ¥çœ‹æœ¬åœ°ç‰ˆæœ¬åº“å’Œè¿œç¨‹ç‰ˆæœ¬åº“ä¸Šçš„åˆ†æ”¯åˆ—è¡¨

```
git branch -r
```

æŸ¥çœ‹è¿œç¨‹ç‰ˆæœ¬åº“ä¸Šçš„åˆ†æ”¯åˆ—è¡¨ï¼ŒåŠ ä¸Š `-d` å‚æ•°å¯ä»¥åˆ é™¤è¿œç¨‹ç‰ˆæœ¬åº“ä¸Šçš„åˆ†æ”¯

```
git branch -D
```

åˆ†æ”¯æœªæäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“å‰å¼ºåˆ¶åˆ é™¤åˆ†æ”¯

```
git branch -vv
```

æŸ¥çœ‹å¸¦æœ‰æœ€åæäº¤idã€æœ€è¿‘æäº¤åŸå› ç­‰ä¿¡æ¯çš„æœ¬åœ°ç‰ˆæœ¬åº“åˆ†æ”¯åˆ—è¡¨

![img](https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowU49NhDrc0SXtGWqNUoNQ71NRCnmicZgtFQzgnunugP4pML52jChNFoA/640?wx_fmt=png)

### git merge

> å°†å…¶å®ƒåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯
>

```
git merge --squash
```

å°†å¾…åˆå¹¶åˆ†æ”¯ä¸Šçš„ `commit` åˆå¹¶æˆä¸€ä¸ªæ–°çš„ `commit` æ”¾å…¥å½“å‰åˆ†æ”¯ï¼Œé€‚ç”¨äºå¾…åˆå¹¶åˆ†æ”¯çš„æäº¤è®°å½•ä¸éœ€è¦ä¿ç•™çš„æƒ…å†µ![img](https://mmbiz.qpic.cn/mmbiz_gif/JdLkEI9sZfd5v84p7lS2Mr1pThtnyVebF8X289ibrNSus6ibMHfT8BviaUJuVibFvdZ8zokaCQlsrqZOKs1W7QZl5Q/640?wx_fmt=gif)

```
git merge --no-ff
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`Git` æ‰§è¡Œ"`å¿«è¿›å¼åˆå¹¶`"ï¼ˆfast-farward mergeï¼‰ï¼Œä¼šç›´æ¥å°† `Master`åˆ†æ”¯æŒ‡å‘ `Develop` åˆ†æ”¯ï¼Œä½¿ç”¨ `--no-ff` å‚æ•°åï¼Œä¼šæ‰§è¡Œæ­£å¸¸åˆå¹¶ï¼Œåœ¨ `Master`åˆ†æ”¯ä¸Šç”Ÿæˆä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œä¿è¯ç‰ˆæœ¬æ¼”è¿›æ›´æ¸…æ™°ã€‚

![img](https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowMRTMOI4wPj7ZZSURhODgT5QGEicfXIS3icW6LJRTwf4YdJUWOnugxQoA/640?wx_fmt=png)

```
git merge --no-edit
```

åœ¨æ²¡æœ‰å†²çªçš„æƒ…å†µä¸‹åˆå¹¶ï¼Œä¸æƒ³æ‰‹åŠ¨ç¼–è¾‘æäº¤åŸå› ï¼Œè€Œæ˜¯ç”¨ `Git` è‡ªåŠ¨ç”Ÿæˆçš„ç±»ä¼¼ `Merge branch 'test'` çš„æ–‡å­—ç›´æ¥æäº¤

### git checkout

> åˆ‡æ¢åˆ†æ”¯
>

```
git checkout -b daily/0.0.1
```

åˆ›å»º `daily/0.0.1` åˆ†æ”¯ï¼ŒåŒæ—¶åˆ‡æ¢åˆ°è¿™ä¸ªæ–°åˆ›å»ºçš„åˆ†æ”¯

```
git checkout HEAD demo.html
```

ä»æœ¬åœ°ç‰ˆæœ¬åº“çš„ `HEAD`ï¼ˆä¹Ÿå¯ä»¥æ˜¯æäº¤IDã€åˆ†æ”¯åã€Tagåï¼‰ å†å²ä¸­æ£€å‡º `demo.html` è¦†ç›–å½“å‰å·¥ä½œåŒºçš„æ–‡ä»¶ï¼Œå¦‚æœçœç•¥ `HEAD` åˆ™æ˜¯ä»æš‚å­˜åŒºæ£€å‡º

```
git checkout --orphan new_branch
```

è¿™ä¸ªå‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ï¼Œå®Œå…¨æ²¡æœ‰å†å²è®°å½•çš„æ–°åˆ†æ”¯ï¼Œä½†å½“å‰æºåˆ†æ”¯ä¸Šæ‰€æœ‰çš„æœ€æ–°æ–‡ä»¶éƒ½è¿˜åœ¨ï¼ŒçœŸæ˜¯å¼ºè¿«ç—‡æ‚£è€…çš„ç¦éŸ³ï¼Œä½†è¿™ä¸ªæ–°åˆ†æ”¯å¿…é¡»åšä¸€æ¬¡ `git commit`æ“ä½œåæ‰ä¼šçœŸæ­£æˆä¸ºä¸€ä¸ªæ–°åˆ†æ”¯ã€‚

```
git checkout -p other_branch
```

è¿™ä¸ªå‘½ä»¤ä¸»è¦ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯é—´çš„å·®å¼‚å†…å®¹ï¼Œå¹¶æä¾›äº¤äº’å¼çš„ç•Œé¢æ¥é€‰æ‹©è¿›ä¸€æ­¥çš„æ“ä½œï¼Œè¿™ä¸ªå‘½ä»¤ä¸ä»…å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯é—´çš„å·®å¼‚ï¼Œè¿˜å¯ä»¥æ¯”è¾ƒå•ä¸ªæ–‡ä»¶çš„å·®å¼‚ã€‚

### git stash

> åœ¨ `Git` çš„æ ˆä¸­ä¿å­˜å½“å‰ä¿®æ”¹æˆ–åˆ é™¤çš„å·¥ä½œè¿›åº¦ï¼Œå½“ä½ åœ¨ä¸€ä¸ªåˆ†æ”¯é‡ŒåšæŸé¡¹åŠŸèƒ½å¼€å‘æ—¶ï¼Œæ¥åˆ°é€šçŸ¥æŠŠæ˜¨å¤©å·²ç»æµ‹è¯•å®Œæ²¡é—®é¢˜çš„ä»£ç å‘å¸ƒåˆ°çº¿ä¸Šï¼Œä½†è¿™æ—¶ä½ å·²ç»åœ¨è¿™ä¸ªåˆ†æ”¯é‡ŒåŠ å…¥äº†å…¶å®ƒæœªæäº¤çš„ä»£ç ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥æŠŠè¿™äº›æœªæäº¤çš„ä»£ç å­˜åˆ°æ ˆé‡Œã€‚
>

```
git stash
```

å°†æœªæäº¤çš„æ–‡ä»¶ä¿å­˜åˆ°Gitæ ˆä¸­

```
git stash list
```

æŸ¥çœ‹æ ˆä¸­ä¿å­˜çš„åˆ—è¡¨

```
git stash show stash@{0}
```

æ˜¾ç¤ºæ ˆä¸­å…¶ä¸­ä¸€æ¡è®°å½•

```
git stash drop stash@{0}
```

ç§»é™¤æ ˆä¸­å…¶ä¸­ä¸€æ¡è®°å½•

```
git stash pop
```

ä»Gitæ ˆä¸­æ£€å‡ºæœ€æ–°ä¿å­˜çš„ä¸€æ¡è®°å½•ï¼Œå¹¶å°†å®ƒä»æ ˆä¸­ç§»é™¤

```
git stash apply stash@{0}
```

ä»Gitæ ˆä¸­æ£€å‡ºå…¶ä¸­ä¸€æ¡è®°å½•ï¼Œä½†ä¸ä»æ ˆä¸­ç§»é™¤

```
git stash branch new_banch
```

æŠŠå½“å‰æ ˆä¸­æœ€è¿‘ä¸€æ¬¡è®°å½•æ£€å‡ºå¹¶åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯

```
git stash clear
```

æ¸…ç©ºæ ˆé‡Œçš„æ‰€æœ‰è®°å½•

```
git stash create
```

ä¸ºå½“å‰ä¿®æ”¹æˆ–åˆ é™¤çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„æ ˆå¹¶è¿”å›ä¸€ä¸ªIDï¼Œæ­¤æ—¶å¹¶æœªçœŸæ­£å­˜å‚¨åˆ°æ ˆé‡Œ

```
git stash store xxxxxx
```

å°† `create` æ–¹æ³•é‡Œè¿”å›çš„IDæ”¾åˆ° `store` åé¢ï¼Œæ­¤æ—¶åœ¨æ ˆé‡ŒçœŸæ­£åˆ›å»ºäº†ä¸€ä¸ªè®°å½•ï¼Œä½†å½“å‰ä¿®æ”¹æˆ–åˆ é™¤çš„æ–‡ä»¶å¹¶æœªä»å·¥ä½œåŒºç§»é™¤

```
$ git stash create
09eb9a97ad632d0825be1ece361936d1d0bdb5c7
$ git stash store 09eb9a97ad632d0825be1ece361936d1d0bdb5c7
$ git stash list
stash@{0}: Created via "git stash store".
```

## æ“ä½œå†å²

### git log

> æ˜¾ç¤ºæäº¤å†å²è®°å½•
>

```
git log -p
```

æ˜¾ç¤ºå¸¦æäº¤å·®å¼‚å¯¹æ¯”çš„å†å²è®°å½•

```
git log demo.html
```

æ˜¾ç¤º `demo.html` æ–‡ä»¶çš„å†å²è®°å½•

```
git log --since="2 weeks ago"
```

æ˜¾ç¤º2å‘¨å‰å¼€å§‹åˆ°ç°åœ¨çš„å†å²è®°å½•ï¼Œå…¶å®ƒæ—¶é—´å¯ä»¥ç±»æ¨

```
git log --before="2 weeks ago"
```

æ˜¾ç¤ºæˆªæ­¢åˆ°2å‘¨å‰çš„å†å²è®°å½•ï¼Œå…¶å®ƒæ—¶é—´å¯ä»¥ç±»æ¨

```
git log -10
```

æ˜¾ç¤ºæœ€è¿‘10æ¡å†å²è®°å½•

```
git log f5f630a..HEAD
```

æ˜¾ç¤ºä»æäº¤ID `f5f630a` åˆ° `HEAD` ä¹‹é—´çš„è®°å½•ï¼Œ`HEAD` å¯ä»¥ä¸ºç©ºæˆ–å…¶å®ƒæäº¤ID

```
git log --pretty=oneline
```

åœ¨ä¸€è¡Œä¸­è¾“å‡ºç®€çŸ­çš„å†å²è®°å½•

```
git log --pretty=format:"%h"
```

æ ¼å¼åŒ–è¾“å‡ºå†å²è®°å½•

`Git` ç”¨å„ç§ `placeholder` æ¥å†³å®šå„ç§æ˜¾ç¤ºå†…å®¹ï¼Œæˆ‘æŒ‘å‡ ä¸ªå¸¸ç”¨çš„æ˜¾ç¤ºå¦‚ä¸‹ï¼š

- %H: commit hash
- %h: ç¼©çŸ­çš„commit hash
- %T: tree hash
- %t: ç¼©çŸ­çš„ tree hash
- %P: parent hashes
- %p: ç¼©çŸ­çš„ parent hashes
- %an: ä½œè€…åå­—
- %aN: mailmapçš„ä½œè€…å
- %ae: ä½œè€…é‚®ç®±
- %ad: æ—¥æœŸ (--date= åˆ¶å®šçš„æ ¼å¼)
- %ar: æ—¥æœŸ, ç›¸å¯¹æ ¼å¼(1 day ago)
- %cn: æäº¤è€…åå­—
- %ce: æäº¤è€… email
- %cd: æäº¤æ—¥æœŸ (--date= åˆ¶å®šçš„æ ¼å¼)
- %cr: æäº¤æ—¥æœŸ, ç›¸å¯¹æ ¼å¼(1 day ago)
- %d: refåç§°
- %s: commitä¿¡æ¯æ ‡é¢˜
- %b: commitä¿¡æ¯å†…å®¹
- %n: æ¢è¡Œ

### git cherry-pick

> åˆå¹¶åˆ†æ”¯çš„ä¸€æ¡æˆ–å‡ æ¡æäº¤è®°å½•åˆ°å½“å‰åˆ†æ”¯æœ«æ¢¢
>

```
git cherry-pick 170a305
```

åˆå¹¶æäº¤ID `170a305` åˆ°å½“å‰åˆ†æ”¯æœ«æ¢¢

### git reset

> å°†å½“å‰çš„åˆ†æ”¯é‡è®¾ï¼ˆresetï¼‰åˆ°æŒ‡å®šçš„ `<commit>` æˆ–è€… `HEAD`
>

```
git reset --mixed <commit>
```

`--mixed` æ˜¯ä¸å¸¦å‚æ•°æ—¶çš„é»˜è®¤å‚æ•°ï¼Œå®ƒé€€å›åˆ°æŸä¸ªç‰ˆæœ¬ï¼Œä¿ç•™æ–‡ä»¶å†…å®¹ï¼Œå›é€€æäº¤å†å²

```
git reset --soft <commit>
```

æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­çš„å†…å®¹ä¸ä½œä»»ä½•æ”¹å˜ï¼Œä»…ä»…æŠŠ `HEAD` æŒ‡å‘ `<commit>`

```
git reset --hard <commit>
```

è‡ªä» `<commit>` ä»¥æ¥åœ¨å·¥ä½œåŒºä¸­çš„ä»»ä½•æ”¹å˜éƒ½è¢«ä¸¢å¼ƒï¼Œå¹¶æŠŠ `HEAD` æŒ‡å‘ `<commit>`

### git rebase

> é‡æ–°å®šä¹‰åˆ†æ”¯çš„ç‰ˆæœ¬åº“çŠ¶æ€
>

```
git rebase branch_name
```

åˆå¹¶åˆ†æ”¯ï¼Œè¿™è·Ÿ `merge` å¾ˆåƒï¼Œä½†è¿˜æ˜¯æœ‰æœ¬è´¨åŒºåˆ«ï¼Œçœ‹ä¸‹å›¾ï¼š

![img](https://mmbiz.qpic.cn/mmbiz_jpg/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowJVnNZciaQfnn8vbqXet2mRj9aoR4HKQ230T4hggwJwgh5CbfVAwGQsw/640?wx_fmt=jpeg)

åˆå¹¶è¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦å…ˆè§£å†³å†²çªï¼Œç„¶åæ‰§è¡Œ `git rebase --continue`

```
git rebase -i HEAD~~
```

æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå°†çœ‹åˆ°ä» `HEAD` åˆ° `HEAD~~` çš„æäº¤å¦‚ä¸‹

```
pick 9a54fd4 æ·»åŠ commitçš„è¯´æ˜
pick 0d4a808 æ·»åŠ pullçš„è¯´æ˜
# Rebase 326fc9f..0d4a808 onto d286baa
#
# Commands:
#  p, pick = use commit
#  r, reword = use commit, but edit the commit message
#  e, edit = use commit, but stop for amending
#  s, squash = use commit, but meld into previous commit
#  f, fixup = like "squash", but discard this commit's log message
#  x, exec = run command (the rest of the line) using shell
#
```

å°†ç¬¬ä¸€è¡Œçš„ `pick` æ”¹æˆ `Commands` ä¸­æ‰€åˆ—å‡ºæ¥çš„å‘½ä»¤ï¼Œç„¶åä¿å­˜å¹¶é€€å‡ºï¼Œæ‰€å¯¹åº”çš„ä¿®æ”¹å°†ä¼šç”Ÿæ•ˆã€‚å¦‚æœç§»åŠ¨æäº¤è®°å½•çš„é¡ºåºï¼Œå°†æ”¹å˜å†å²è®°å½•ä¸­çš„æ’åºã€‚

### git revert

> æ’¤é”€æŸæ¬¡æ“ä½œï¼Œæ­¤æ¬¡æ“ä½œä¹‹å‰å’Œä¹‹åçš„ `commit` å’Œ `history` éƒ½ä¼šä¿ç•™ï¼Œå¹¶ä¸”æŠŠè¿™æ¬¡æ’¤é”€ä½œä¸ºä¸€æ¬¡æœ€æ–°çš„æäº¤
>

```
git revert HEAD
```

æ’¤é”€å‰ä¸€æ¬¡æäº¤æ“ä½œ

```
git revert HEAD --no-edit
```

æ’¤é”€å‰ä¸€æ¬¡æäº¤æ“ä½œï¼Œå¹¶ä»¥é»˜è®¤çš„ `Revert "xxx"` ä¸ºæäº¤åŸå› 

```
git revert -n HEAD
```

éœ€è¦æ’¤é”€å¤šæ¬¡æ“ä½œçš„æ—¶å€™åŠ  `-n` å‚æ•°ï¼Œè¿™æ ·ä¸ä¼šæ¯æ¬¡æ’¤é”€æ“ä½œéƒ½æäº¤ï¼Œè€Œæ˜¯ç­‰æ‰€æœ‰æ’¤é”€éƒ½å®Œæˆåä¸€èµ·æäº¤

### git diff

> æŸ¥çœ‹å·¥ä½œåŒºã€æš‚å­˜åŒºã€æœ¬åœ°ç‰ˆæœ¬åº“ä¹‹é—´çš„æ–‡ä»¶å·®å¼‚ï¼Œç”¨ä¸€å¼ å›¾æ¥è§£é‡Š
>

![img](https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowbTtpHas5ZBpKFGFU8FxcaR8cCeANrcGmBwtpiaHkib8SQxJBLhOxEbOA/640?wx_fmt=png)

```
git diff --stat
```

é€šè¿‡ `--stat` å‚æ•°å¯ä»¥æŸ¥çœ‹å˜æ›´ç»Ÿè®¡æ•°æ®

```
 test.md | 1 -
 1 file changed, 1 deletion(-)
```

### git reflog

`reflog` å¯ä»¥æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æ‰€æœ‰æ“ä½œè®°å½•ï¼ˆåŒ…æ‹¬commitå’Œresetçš„æ“ä½œã€å·²ç»è¢«åˆ é™¤çš„commitè®°å½•ï¼Œè·Ÿ `git log` çš„åŒºåˆ«åœ¨äºå®ƒä¸èƒ½æŸ¥çœ‹å·²ç»åˆ é™¤äº†çš„commitè®°å½•![img](https://mmbiz.qpic.cn/mmbiz_jpg/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgow9g0GgTQppOgauVPMguPXWE8qOQqsic0j3IL9NxNns5D16qa9HvOn9rA/640?wx_fmt=jpeg)

## è¿œç¨‹ç‰ˆæœ¬åº“è¿æ¥

å¦‚æœåœ¨GitHubé¡¹ç›®åˆå§‹åŒ–ä¹‹å‰ï¼Œæ–‡ä»¶å·²ç»å­˜åœ¨äºæœ¬åœ°ç›®å½•ä¸­ï¼Œé‚£å¯ä»¥åœ¨æœ¬åœ°åˆå§‹åŒ–æœ¬åœ°ç‰ˆæœ¬åº“ï¼Œå†å°†æœ¬åœ°ç‰ˆæœ¬åº“è·Ÿè¿œç¨‹ç‰ˆæœ¬åº“è¿æ¥èµ·æ¥

### git init

> åœ¨æœ¬åœ°ç›®å½•å†…éƒ¨ä¼šç”Ÿæˆ.gitæ–‡ä»¶å¤¹
>

### git remote

```
git remote -v
```

ä¸å¸¦å‚æ•°ï¼Œåˆ—å‡ºå·²ç»å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯ï¼ŒåŠ ä¸Š `-v` åˆ—å‡ºè¯¦ç»†ä¿¡æ¯ï¼Œåœ¨æ¯ä¸€ä¸ªåå­—åé¢åˆ—å‡ºå…¶è¿œç¨‹url

```
git remote add origin https://github.com/gafish/gafish.github.com.git
```

æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼ŒæŒ‡å®šä¸€ä¸ªåå­—ï¼Œä»¥ä¾¿å¼•ç”¨åé¢å¸¦çš„URL

### git fetch

> å°†è¿œç¨‹ç‰ˆæœ¬åº“çš„æ›´æ–°å–å›åˆ°æœ¬åœ°ç‰ˆæœ¬åº“
>

```
git fetch origin daily/0.0.1
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`git fetch` å–å›æ‰€æœ‰åˆ†æ”¯çš„æ›´æ–°ã€‚å¦‚æœåªæƒ³å–å›ç‰¹å®šåˆ†æ”¯çš„æ›´æ–°ï¼Œå¯ä»¥æŒ‡å®šåˆ†æ”¯åã€‚

## é—®é¢˜æ’æŸ¥

### git blame

> æŸ¥çœ‹æ–‡ä»¶æ¯è¡Œä»£ç å—çš„å†å²ä¿¡æ¯
>

```
git blame -L 1,10 demo.html
```

æˆªå– `demo.html` æ–‡ä»¶1-10è¡Œå†å²ä¿¡æ¯

### git bisect

> äºŒåˆ†æŸ¥æ‰¾å†å²è®°å½•ï¼Œæ’æŸ¥BUG
>

```
git bisect start
```

å¼€å§‹äºŒåˆ†æŸ¥æ‰¾

```
git bisect bad
```

æ ‡è®°å½“å‰äºŒåˆ†æäº¤IDä¸ºæœ‰é—®é¢˜çš„ç‚¹

```
git bisect good
```

æ ‡è®°å½“å‰äºŒåˆ†æäº¤IDä¸ºæ²¡é—®é¢˜çš„ç‚¹

```
git bisect reset
```

æŸ¥åˆ°æœ‰é—®é¢˜çš„æäº¤IDåå›åˆ°åŸåˆ†æ”¯

## æ›´å¤šæ“ä½œ

### git submodule

> é€šè¿‡ Git å­æ¨¡å—å¯ä»¥è·Ÿè¸ªå¤–éƒ¨ç‰ˆæœ¬åº“ï¼Œå®ƒå…è®¸åœ¨æŸä¸€ç‰ˆæœ¬åº“ä¸­å†å­˜å‚¨å¦ä¸€ç‰ˆæœ¬åº“ï¼Œå¹¶ä¸”èƒ½å¤Ÿä¿æŒ2ä¸ªç‰ˆæœ¬åº“å®Œå…¨ç‹¬ç«‹
>

```
git submodule add https://github.com/gafish/demo.git demo
```

å°† `demo` ä»“åº“æ·»åŠ ä¸ºå­æ¨¡å—

```
git submodule update demo
```

æ›´æ–°å­æ¨¡å— `demo`

### git gc

> è¿è¡ŒGitçš„åƒåœ¾å›æ”¶åŠŸèƒ½ï¼Œæ¸…ç†å†—ä½™çš„å†å²å¿«ç…§
>

### git archive

> å°†åŠ äº†tagçš„æŸä¸ªç‰ˆæœ¬æ‰“åŒ…æå–
>

```
git archive -v --format=zip v0.1 > v0.1.zip
```

`--format` è¡¨ç¤ºæ‰“åŒ…çš„æ ¼å¼ï¼Œå¦‚ `zip`ï¼Œ`-v` è¡¨ç¤ºå¯¹åº”çš„tagåï¼Œåé¢è·Ÿçš„æ˜¯tagåï¼Œå¦‚ `v0.1`ã€‚

-- End --


